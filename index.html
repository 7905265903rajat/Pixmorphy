<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PixMorph - Professional Image Editor | Resize, Compress & Enhance Images Online</title>
  <meta name="description" content="Professional online image editor to resize, compress and enhance photos. Free image resizer for social media, web optimization. Works on all devices - no software needed." />
  <meta name="keywords" content="image resizer online, compress image without losing quality, reduce image size online, image compressor online free, online photo resizer, best image compressor, resize image for Instagram, convert image to specific dimensions, online tool to resize image, compress JPEG image online, image size reducer online, resize image for LinkedIn profile, compress image for website, reduce PNG file size online, photo compressor tool, online image editor, resize images for free, bulk image resizer online, compress image for email, reduce photo size for WhatsApp, online image optimizer, resize image without losing quality, image size compressor for web, make image smaller online, free image resizer for social media" />
  <meta name="author" content="Rajat Gupta" />
  <meta name="robots" content="index, follow" />
  
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://pixmorph.netlify.app/" />
  <meta property="og:title" content="PixMorph - Professional Image Editor | Resize Images Online" />
  <meta property="og:description" content="Professional online image editor to resize, compress and enhance photos. Free image resizer for social media, web optimization." />
  <meta property="og:image" content="https://raw.githubusercontent.com/7905265903rajat/Pixmorphy/main/pixmorph_logo.PNG" />
  <meta property="og:image:width" content="800" />
  <meta property="og:image:height" content="600" />
  
  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image" />
  <meta property="twitter:url" content="https://pixmorph.netlify.app/" />
  <meta property="twitter:title" content="PixMorph - Professional Image Editor | Resize Images Online" />
  <meta property="twitter:description" content="Professional online image editor to resize, compress and enhance photos. Free image resizer for social media, web optimization." />
  <meta property="twitter:image" content="https://raw.githubusercontent.com/7905265903rajat/Pixmorphy/main/pixmorph_logo.PNG" />
  
  <!-- Favicon -->
  <link rel="icon" type="image/png" href="https://raw.githubusercontent.com/7905265903rajat/Pixmorphy/main/pixmorph_logo.PNG" />
  <link rel="apple-touch-icon" href="https://raw.githubusercontent.com/7905265903rajat/Pixmorphy/main/pixmorph_logo.PNG" />
  
  <!-- Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebApplication",
    "name": "PixMorph - Professional Image Editor",
    "description": "Professional online image editor to resize, compress and enhance photos. Free image resizer for social media, web optimization.",
    "url": "https://pixmorph.netlify.app/",
    "applicationCategory": "MultimediaApplication",
    "operatingSystem": "Any",
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "USD"
    },
    "creator": {
      "@type": "Person",
      "name": "Rajat Gupta"
    },
    "image": "https://raw.githubusercontent.com/7905265903rajat/Pixmorphy/main/pixmorph_logo.PNG",
    "featureList": [
      "Resize images for social media",
      "Compress images for web optimization", 
      "Enhance photos with filters",
      "No software installation required",
      "Works on all devices",
      "100% browser-based processing"
    ]
  }
  </script>
  
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    :root {
      --primary: #3b82f6;
      --primary-dark: #2563eb;
      --accent: #10b981;
      --background: #f8fafc;
      --surface: #ffffff;
      --text: #1e293b;
      --text-muted: #64748b;
      --border: #e2e8f0;
      --radius: 0.5rem;
    }

    body {
      font-family: 'Inter', sans-serif;
      background-color: var(--background);
      color: var(--text);
      line-height: 1.6;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 1rem;
    }

    /* Header */
    .header {
      background: var(--surface);
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
      border-bottom: 1px solid var(--border);
      position: sticky;
      top: 0;
      z-index: 100;
    }

    .header-content {
      display: flex;
      align-items: center;
      justify-content: space-between;
      height: 4rem;
      padding: 0 1rem;
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      text-decoration: none;
      color: inherit;
    }

    .logo-icon {
      width: 2.5rem;
      height: 2.5rem;
      background: var(--primary);
      border-radius: var(--radius);
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 1.125rem;
      overflow: hidden;
    }

    .logo-icon img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .logo-text h1 {
      font-size: 1.25rem;
      font-weight: 700;
      color: var(--text);
    }

    .logo-text p {
      font-size: 0.75rem;
      color: var(--text-muted);
    }

    .header-actions {
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 0.5rem 1rem;
      border-radius: var(--radius);
      font-size: 0.875rem;
      font-weight: 500;
      border: none;
      cursor: pointer;
      transition: all 0.2s;
      text-decoration: none;
    }

    .btn-primary {
      background: var(--primary);
      color: white;
    }

    .btn-primary:hover {
      background: var(--primary-dark);
    }

    .btn-secondary {
      background: var(--surface);
      color: var(--text);
      border: 1px solid var(--border);
    }

    .btn-secondary:hover {
      background: var(--background);
    }

    .btn-accent {
      background: var(--accent);
      color: white;
    }

    .btn-accent:hover {
      background: #059669;
    }

    /* Main Content */
    .main {
      padding: 2rem 0;
    }

    .hero {
      text-align: center;
      margin-bottom: 3rem;
    }

    .hero h1 {
      font-size: 2.5rem;
      font-weight: 700;
      color: var(--text);
      margin-bottom: 1rem;
    }

    .hero p {
      font-size: 1.125rem;
      color: var(--text-muted);
      max-width: 42rem;
      margin: 0 auto 2rem;
    }

    .feature-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 2rem;
      margin-bottom: 3rem;
    }

    .feature-card {
      background: var(--surface);
      border-radius: var(--radius);
      padding: 2rem;
      text-align: center;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
      border: 1px solid var(--border);
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .feature-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    }

    .feature-icon {
      width: 4rem;
      height: 4rem;
      margin: 0 auto 1rem;
      background: var(--primary);
      border-radius: var(--radius);
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 1.5rem;
    }

    .feature-card h3 {
      font-size: 1.25rem;
      font-weight: 600;
      margin-bottom: 0.5rem;
    }

    .feature-card p {
      color: var(--text-muted);
      font-size: 0.875rem;
    }

    .hidden {
      display: none !important;
    }

    /* Editor Interface */
    .editor-container {
      background: var(--surface);
      border-radius: var(--radius);
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
      border: 1px solid var(--border);
      margin-bottom: 2rem;
    }

    .tabs {
      display: flex;
      border-bottom: 1px solid var(--border);
      padding: 0 1.5rem;
    }

    .tab-trigger {
      background: none;
      border: none;
      padding: 1rem 0.25rem;
      margin-right: 2rem;
      border-bottom: 2px solid transparent;
      font-size: 0.875rem;
      font-weight: 500;
      color: var(--text-muted);
      cursor: pointer;
      transition: all 0.2s;
    }

    .tab-trigger:hover {
      color: var(--text);
    }

    .tab-trigger.active {
      color: var(--primary);
      border-bottom-color: var(--primary);
    }

    .tab-content {
      padding: 1.5rem;
      display: none;
    }

    .tab-content.active {
      display: block;
    }

    .grid {
      display: grid;
      gap: 2rem;
    }

    .grid-2 {
      grid-template-columns: 1fr 1fr;
    }

    @media (max-width: 768px) {
      .grid-2 {
        grid-template-columns: 1fr;
      }
      
      .hero h1 {
        font-size: 2rem;
      }
      
      .feature-grid {
        grid-template-columns: 1fr;
      }
    }

    /* Form Elements */
    .form-group {
      margin-bottom: 1rem;
    }

    .label {
      display: block;
      font-size: 0.875rem;
      font-weight: 500;
      color: var(--text);
      margin-bottom: 0.5rem;
    }

    .input, .select {
      width: 100%;
      padding: 0.5rem 0.75rem;
      border: 1px solid var(--border);
      border-radius: var(--radius);
      font-size: 0.875rem;
      background: var(--surface);
      transition: border-color 0.2s;
    }

    .input:focus, .select:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
    }

    /* Upload Zone */
    .upload-zone {
      border: 2px dashed var(--border);
      border-radius: var(--radius);
      padding: 2rem;
      text-align: center;
      cursor: pointer;
      transition: all 0.2s;
      background: var(--surface);
    }

    .upload-zone:hover,
    .upload-zone.dragover {
      border-color: var(--primary);
      background: rgba(59, 130, 246, 0.05);
    }

    .upload-zone i {
      font-size: 3rem;
      color: var(--text-muted);
      margin-bottom: 0.5rem;
    }

    .upload-text {
      font-size: 0.875rem;
      color: var(--text-muted);
      margin-bottom: 0.25rem;
    }

    .upload-subtext {
      font-size: 0.75rem;
      color: var(--text-muted);
    }

    /* Progress Bar */
    .progress {
      width: 100%;
      height: 0.5rem;
      background: var(--background);
      border-radius: 0.25rem;
      overflow: hidden;
      margin: 1rem 0;
    }

    .progress-bar {
      height: 100%;
      background: var(--primary);
      transition: width 0.3s ease;
    }

    /* Image Preview */
    .image-preview {
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 1rem;
      background: var(--surface);
      text-align: center;
    }

    .image-preview img {
      max-width: 100%;
      height: auto;
      border-radius: var(--radius);
    }

    .empty-state {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 16rem;
      background: var(--background);
      border-radius: var(--radius);
      border: 2px dashed var(--border);
    }

    .empty-state i {
      font-size: 4rem;
      color: var(--text-muted);
      margin-bottom: 0.5rem;
    }

    .empty-state p {
      color: var(--text-muted);
    }

    /* Feedback Modal */
    .modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
    }

    .modal-content {
      background: var(--surface);
      border-radius: var(--radius);
      padding: 2rem;
      max-width: 500px;
      width: 90%;
      max-height: 80vh;
      overflow-y: auto;
    }

    .modal h3 {
      margin-bottom: 1rem;
      font-size: 1.25rem;
      font-weight: 600;
    }

    .feedback-form textarea {
      width: 100%;
      min-height: 100px;
      padding: 0.75rem;
      border: 1px solid var(--border);
      border-radius: var(--radius);
      resize: vertical;
      font-family: inherit;
    }

    .modal-actions {
      display: flex;
      gap: 1rem;
      justify-content: flex-end;
      margin-top: 1rem;
    }

    /* Footer */
    .footer {
      background: var(--surface);
      border-top: 1px solid var(--border);
      padding: 2rem 0;
      margin-top: 4rem;
      text-align: center;
    }

    .footer p {
      color: var(--text-muted);
      font-size: 0.875rem;
    }

    .footer-links {
      display: flex;
      justify-content: center;
      gap: 2rem;
      margin-bottom: 1rem;
    }

    .footer-links a {
      color: var(--text-muted);
      text-decoration: none;
      font-size: 0.875rem;
    }

    .footer-links a:hover {
      color: var(--primary);
    }

    /* Slider */
    .slider {
      width: 100%;
      height: 8px;
      border-radius: 4px;
      background: var(--background);
      outline: none;
      -webkit-appearance: none;
      appearance: none;
    }

    .slider::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background: var(--primary);
      cursor: pointer;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    .slider::-moz-range-thumb {
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background: var(--primary);
      cursor: pointer;
      border: none;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    /* Error Styles */
    .error {
      background: #fef2f2;
      border: 1px solid #fecaca;
      border-radius: var(--radius);
      padding: 0.75rem;
      margin-top: 1rem;
    }

    .error-content {
      display: flex;
      align-items: center;
      color: #dc2626;
      font-size: 0.875rem;
    }

    .error-content i {
      margin-right: 0.5rem;
    }
  </style>
</head>
<body>
  <header class="header">
    <div class="container">
      <div class="header-content">
        <a href="#" class="logo" onclick="showHome()">
          <div class="logo-icon">
            <img src="https://raw.githubusercontent.com/7905265903rajat/Pixmorphy/main/pixmorph_logo.PNG" alt="PixMorph Logo" onerror="this.style.display='none'; this.parentNode.innerHTML='<i class=&quot;fas fa-image&quot;></i>'">
          </div>
          <div class="logo-text">
            <h1>PixMorph</h1>
            <p>Professional Image Editor</p>
          </div>
        </a>
        <div class="header-actions">
          <button class="btn btn-secondary" onclick="downloadLogs()">
           // <i class="fas fa-download"></i> Download Logs
          </button>
          <button class="btn btn-primary" onclick="showFeedback()">
            <i class="fas fa-star"></i> Rate Us
          </button>
        </div>
      </div>
    </div>
  </header>

  <main class="main">
    <div class="container">
      <!-- Home Page -->
      <div id="home-page">
        <div class="hero">
          <h1>Professional Image Editor</h1>
          <p>Resize, compress, and enhance your images with our powerful online tools. Choose from our professional features below to get started.</p>
        </div>

        <div class="feature-grid">
          <div class="feature-card" onclick="showResizer()">
            <div class="feature-icon">
              <i class="fas fa-expand-arrows-alt"></i>
            </div>
            <h3>Image Resizer</h3>
            <p>Resize images for social media, websites, and more. Maintain quality while adjusting dimensions.</p>
          </div>

          <div class="feature-card" onclick="showCompressor()">
            <div class="feature-icon">
              <i class="fas fa-compress-alt"></i>
            </div>
            <h3>Image Compressor</h3>
            <p>Reduce file size without losing quality. Perfect for web optimization and faster loading.</p>
          </div>

          <div class="feature-card" onclick="showEnhancer()">
            <div class="feature-icon">
              <i class="fas fa-magic"></i>
            </div>
            <h3>Image Enhancer</h3>
            <p>Apply filters and effects to improve your photos. Professional results in seconds.</p>
          </div>
        </div>
      </div>

      <!-- Editor Interface -->
      <div id="editor-page" class="hidden">
        <div class="editor-container">
          <div class="tabs">
            <button class="tab-trigger active" data-tab="resize">
              <i class="fas fa-expand-arrows-alt"></i> Resize
            </button>
            <button class="tab-trigger" data-tab="compress">
              <i class="fas fa-compress-alt"></i> Compress
            </button>
            <button class="tab-trigger" data-tab="enhance">
              <i class="fas fa-magic"></i> Enhance
            </button>
          </div>

          <!-- Resize Tab -->
          <div id="resize-content" class="tab-content active">
            <div class="grid grid-2">
              <div>
                <h3>Upload & Resize Image</h3>
                <div class="upload-zone" onclick="document.getElementById('fileInput').click()">
                  <i class="fas fa-cloud-upload-alt"></i>
                  <div class="upload-text">Click to upload or drag & drop</div>
                  <div class="upload-subtext">Supports JPG, PNG, WebP (Max 10MB)</div>
                </div>
                <input type="file" id="fileInput" accept="image/*" style="display: none;" onchange="handleFile(this.files[0])">
                
                <div class="form-group">
                  <label class="label">Resize Options</label>
                  <select class="select" id="resizePreset" onchange="updateDimensions()">
                    <option value="custom">Custom Size</option>
                    <option value="instagram">Instagram Post (1080x1080)</option>
                    <option value="facebook">Facebook Cover (820x312)</option>
                    <option value="youtube">YouTube Thumbnail (1280x720)</option>
                    <option value="linkedin">LinkedIn Banner (1584x396)</option>
                    <option value="twitter">Twitter Header (1500x500)</option>
                  </select>
                </div>

                <div class="grid grid-2">
                  <div class="form-group">
                    <label class="label">Width (px)</label>
                    <input type="number" class="input" id="width" placeholder="Width">
                  </div>
                  <div class="form-group">
                    <label class="label">Height (px)</label>
                    <input type="number" class="input" id="height" placeholder="Height">
                  </div>
                </div>

                <button class="btn btn-primary" onclick="processImage('resize')" id="resizeBtn" disabled>
                  <i class="fas fa-expand-arrows-alt"></i> Resize Image
                </button>
              </div>

              <div>
                <h3>Preview</h3>
                <div class="image-preview">
                  <div class="empty-state" id="previewEmpty">
                    <i class="fas fa-image"></i>
                    <p>Upload an image to see preview</p>
                  </div>
                  <img id="previewImage" class="hidden" alt="Preview">
                </div>
              </div>
            </div>
          </div>

          <!-- Compress Tab -->
          <div id="compress-content" class="tab-content">
            <div class="grid grid-2">
              <div>
                <h3>Upload & Compress Image</h3>
                <div class="upload-zone" onclick="document.getElementById('fileInput').click()">
                  <i class="fas fa-cloud-upload-alt"></i>
                  <div class="upload-text">Click to upload or drag & drop</div>
                  <div class="upload-subtext">Supports JPG, PNG, WebP (Max 10MB)</div>
                </div>
                
                <div class="form-group">
                  <label class="label">Quality: <span id="qualityValue">80</span>%</label>
                  <input type="range" class="slider" id="quality" min="10" max="100" value="80" oninput="updateQuality(this.value)">
                </div>

                <button class="btn btn-primary" onclick="processImage('compress')" id="compressBtn" disabled>
                  <i class="fas fa-compress-alt"></i> Compress Image
                </button>
              </div>

              <div>
                <h3>Preview</h3>
                <div class="image-preview">
                  <div class="empty-state" id="previewEmpty">
                    <i class="fas fa-image"></i>
                    <p>Upload an image to see preview</p>
                  </div>
                  <img id="previewImage" class="hidden" alt="Preview">
                </div>
              </div>
            </div>
          </div>

          <!-- Enhance Tab -->
          <div id="enhance-content" class="tab-content">
            <div class="grid grid-2">
              <div>
                <h3>Upload & Enhance Image</h3>
                <div class="upload-zone" onclick="document.getElementById('fileInput').click()">
                  <i class="fas fa-cloud-upload-alt"></i>
                  <div class="upload-text">Click to upload or drag & drop</div>
                  <div class="upload-subtext">Supports JPG, PNG, WebP (Max 10MB)</div>
                </div>
                
                <div class="form-group">
                  <label class="label">Filter</label>
                  <select class="select" id="filter">
                    <option value="none">No Filter</option>
                    <option value="brightness">Brightness</option>
                    <option value="contrast">Contrast</option>
                    <option value="saturate">Saturation</option>
                    <option value="sepia">Sepia</option>
                    <option value="grayscale">Grayscale</option>
                    <option value="blur">Blur</option>
                  </select>
                </div>

                <div class="form-group">
                  <label class="label">Intensity: <span id="intensityValue">100</span>%</label>
                  <input type="range" class="slider" id="intensity" min="0" max="200" value="100" oninput="updateIntensity(this.value)">
                </div>

                <button class="btn btn-primary" onclick="processImage('enhance')" id="enhanceBtn" disabled>
                  <i class="fas fa-magic"></i> Enhance Image
                </button>
              </div>

              <div>
                <h3>Preview</h3>
                <div class="image-preview">
                  <div class="empty-state" id="previewEmpty">
                    <i class="fas fa-image"></i>
                    <p>Upload an image to see preview</p>
                  </div>
                  <img id="previewImage" class="hidden" alt="Preview">
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="progress hidden" id="progress">
          <div class="progress-bar" id="progressBar"></div>
        </div>

        <div id="result" class="hidden">
          <h3>Result</h3>
          <div class="image-preview">
            <img id="resultImage" alt="Result">
          </div>
          <button class="btn btn-accent" onclick="downloadImage()" id="downloadBtn">
            <i class="fas fa-download"></i> Download Image
          </button>
        </div>

        <button class="btn btn-secondary" onclick="showHome()" style="margin-top: 2rem;">
          <i class="fas fa-arrow-left"></i> Back to Home
        </button>
      </div>
    </div>
  </main>

  <!-- Feedback Modal -->
  <div id="feedbackModal" class="modal hidden">
    <div class="modal-content">
      <h3>Share Your Feedback</h3>
      <form class="feedback-form" onsubmit="submitFeedback(event)">
        <div class="form-group">
          <label class="label">Rating</label>
          <select class="select" id="rating" required>
            <option value="">Select Rating</option>
            <option value="5">5 Stars - Excellent</option>
            <option value="4">4 Stars - Very Good</option>
            <option value="3">3 Stars - Good</option>
            <option value="2">2 Stars - Fair</option>
            <option value="1">1 Star - Poor</option>
          </select>
        </div>
        <div class="form-group">
          <label class="label">Comments</label>
          <textarea id="comments" placeholder="Tell us about your experience..." required></textarea>
        </div>
        <div class="modal-actions">
          <button type="button" class="btn btn-secondary" onclick="hideFeedback()">Cancel</button>
          <button type="submit" class="btn btn-primary">Submit Feedback</button>
        </div>
      </form>
    </div>
  </div>

  <footer class="footer">
    <div class="container">
      <div class="footer-links">
        <a href="#" onclick="showFeedback()">Feedback</a>
       // <a href="#" onclick="downloadLogs()">Download Logs</a>
        <a href="mailto:support@pixmorph.com">Contact</a>
      </div>
      <p>&copy; 2024 PixMorph. Created by Rajat Gupta. All rights reserved.</p>
    </div>
  </footer>

  <script>
    // Global variables
    let currentImage = null;
    let processedImage = null;
    let logs = {
      visitors: [],
      feedback: [],
      daily: []
    };
    
    // GitHub logs configuration - update this URL after uploading logs file
    const LOG_FILE_URL = 'https://raw.githubusercontent.com/7905265903rajat/Pixmorphy/main/logs/pixmorph-logs.csv';

    // Initialize logging
    function initLogging() {
      // Log visitor
      const visitor = {
        timestamp: new Date().toISOString(),
        userAgent: navigator.userAgent,
        referrer: document.referrer,
        sessionId: generateSessionId()
      };
      logs.visitors.push(visitor);
      
      // Log daily activity
      const today = new Date().toDateString();
      let dailyLog = logs.daily.find(d => d.date === today);
      if (!dailyLog) {
        dailyLog = { date: today, visits: 0, resizes: 0, compressions: 0, enhancements: 0 };
        logs.daily.push(dailyLog);
      }
      dailyLog.visits++;
      
      saveLogs();
    }

    function generateSessionId() {
      return Math.random().toString(36).substr(2, 9);
    }

    function saveLogs() {
      localStorage.setItem('pixmorph_logs', JSON.stringify(logs));
    }

    function loadLogs() {
      const savedLogs = localStorage.getItem('pixmorph_logs');
      if (savedLogs) {
        logs = JSON.parse(savedLogs);
      }
    }

    // Navigation functions
    function showHome() {
      document.getElementById('home-page').classList.remove('hidden');
      document.getElementById('editor-page').classList.add('hidden');
      document.getElementById('result').classList.add('hidden');
    }

    function showResizer() {
      document.getElementById('home-page').classList.add('hidden');
      document.getElementById('editor-page').classList.remove('hidden');
      switchTab('resize');
    }

    function showCompressor() {
      document.getElementById('home-page').classList.add('hidden');
      document.getElementById('editor-page').classList.remove('hidden');
      switchTab('compress');
    }

    function showEnhancer() {
      document.getElementById('home-page').classList.add('hidden');
      document.getElementById('editor-page').classList.remove('hidden');
      switchTab('enhance');
    }

    function switchTab(tabName) {
      // Update tab triggers
      document.querySelectorAll('.tab-trigger').forEach(trigger => {
        trigger.classList.remove('active');
        if (trigger.dataset.tab === tabName) {
          trigger.classList.add('active');
        }
      });

      // Update tab contents
      document.querySelectorAll('.tab-content').forEach(content => {
        content.classList.remove('active');
      });
      document.getElementById(tabName + '-content').classList.add('active');
    }

    // File handling
    function handleFile(file) {
      if (!file) return;

      // Validate file
      if (!file.type.startsWith('image/')) {
        showError('Please select a valid image file.');
        return;
      }

      if (file.size > 10 * 1024 * 1024) {
        showError('File size must be less than 10MB.');
        return;
      }

      const reader = new FileReader();
      reader.onload = function(e) {
        currentImage = e.target.result;
        
        // Show preview
        const previewImg = document.getElementById('previewImage');
        const emptyState = document.getElementById('previewEmpty');
        
        previewImg.src = currentImage;
        previewImg.classList.remove('hidden');
        emptyState.classList.add('hidden');

        // Enable process buttons
        document.getElementById('resizeBtn').disabled = false;
        document.getElementById('compressBtn').disabled = false;
        document.getElementById('enhanceBtn').disabled = false;
      };
      reader.readAsDataURL(file);
    }

    // Drag and drop functionality
    function setupDragDrop() {
      const uploadZones = document.querySelectorAll('.upload-zone');
      
      uploadZones.forEach(zone => {
        zone.addEventListener('dragover', (e) => {
          e.preventDefault();
          zone.classList.add('dragover');
        });

        zone.addEventListener('dragleave', () => {
          zone.classList.remove('dragover');
        });

        zone.addEventListener('drop', (e) => {
          e.preventDefault();
          zone.classList.remove('dragover');
          const files = e.dataTransfer.files;
          if (files.length > 0) {
            handleFile(files[0]);
          }
        });
      });
    }

    // Preset dimensions
    function updateDimensions() {
      const preset = document.getElementById('resizePreset').value;
      const widthInput = document.getElementById('width');
      const heightInput = document.getElementById('height');

      const presets = {
        instagram: { width: 1080, height: 1080 },
        facebook: { width: 820, height: 312 },
        youtube: { width: 1280, height: 720 },
        linkedin: { width: 1584, height: 396 },
        twitter: { width: 1500, height: 500 }
      };

      if (presets[preset]) {
        widthInput.value = presets[preset].width;
        heightInput.value = presets[preset].height;
      }
    }

    // Quality and intensity updates
    function updateQuality(value) {
      document.getElementById('qualityValue').textContent = value;
    }

    function updateIntensity(value) {
      document.getElementById('intensityValue').textContent = value;
    }

    // Image processing
    function processImage(type) {
      if (!currentImage) return;

      showProgress();

      // Simulate processing time
      let progress = 0;
      const interval = setInterval(() => {
        progress += 10;
        updateProgress(progress);

        if (progress >= 100) {
          clearInterval(interval);
          completeProcessing(type);
        }
      }, 200);
    }

    function completeProcessing(type) {
      hideProgress();
      
      // Create canvas for processing
      const canvas = document.createElement('canvas');
      const ctx = canvas.getContext('2d');
      const img = new Image();

      img.onload = function() {
        let newWidth = img.width;
        let newHeight = img.height;

        if (type === 'resize') {
          newWidth = parseInt(document.getElementById('width').value) || img.width;
          newHeight = parseInt(document.getElementById('height').value) || img.height;
        }

        canvas.width = newWidth;
        canvas.height = newHeight;

        // Apply filters for enhancement
        if (type === 'enhance') {
          const filter = document.getElementById('filter').value;
          const intensity = document.getElementById('intensity').value;
          
          if (filter !== 'none') {
            ctx.filter = getFilterString(filter, intensity);
          }
        }

        ctx.drawImage(img, 0, 0, newWidth, newHeight);

        // Get result
        const quality = type === 'compress' ? 
          parseInt(document.getElementById('quality').value) / 100 : 0.9;
        
        processedImage = canvas.toDataURL('image/jpeg', quality);
        
        // Show result
        showResult();
        
        // Log activity
        logActivity(type);
      };

      img.src = currentImage;
    }

    function getFilterString(filter, intensity) {
      const value = intensity / 100;
      switch (filter) {
        case 'brightness': return `brightness(${value})`;
        case 'contrast': return `contrast(${value})`;
        case 'saturate': return `saturate(${value})`;
        case 'sepia': return `sepia(${value})`;
        case 'grayscale': return `grayscale(${value})`;
        case 'blur': return `blur(${value * 5}px)`;
        default: return 'none';
      }
    }

    function logActivity(type) {
      const today = new Date().toDateString();
      let dailyLog = logs.daily.find(d => d.date === today);
      if (!dailyLog) {
        dailyLog = { date: today, visits: 0, resizes: 0, compressions: 0, enhancements: 0 };
        logs.daily.push(dailyLog);
      }
      
      if (type === 'resize') dailyLog.resizes++;
      else if (type === 'compress') dailyLog.compressions++;
      else if (type === 'enhance') dailyLog.enhancements++;
      
      saveLogs();
    }

    // Progress bar functions
    function showProgress() {
      document.getElementById('progress').classList.remove('hidden');
      updateProgress(0);
    }

    function hideProgress() {
      document.getElementById('progress').classList.add('hidden');
    }

    function updateProgress(percent) {
      document.getElementById('progressBar').style.width = percent + '%';
    }

    // Result display
    function showResult() {
      document.getElementById('resultImage').src = processedImage;
      document.getElementById('result').classList.remove('hidden');
    }

    // Download functionality
    function downloadImage() {
      if (!processedImage) return;

      // For iOS devices, open in new tab instead of direct download
      const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent);
      
      if (isIOS) {
        const newTab = window.open();
        newTab.document.write(`
          <html>
            <head><title>Download Image</title></head>
            <body style="margin:0; background:#000; display:flex; justify-content:center; align-items:center; min-height:100vh;">
              <div style="text-align:center; color:white; font-family:Arial;">
                <img src="${processedImage}" style="max-width:100%; max-height:80vh; object-fit:contain;">
                <p>Long press the image and select "Save to Photos"</p>
              </div>
            </body>
          </html>
        `);
      } else {
        // Regular download for other devices
        const link = document.createElement('a');
        link.download = 'pixmorph-processed-image.jpg';
        link.href = processedImage;
        document.body.appendChild(link);
        link.click();
        document.body.removeChild(link);
      }
    }

    // Feedback system
    function showFeedback() {
      document.getElementById('feedbackModal').classList.remove('hidden');
    }

    function hideFeedback() {
      document.getElementById('feedbackModal').classList.add('hidden');
    }

    function submitFeedback(event) {
      event.preventDefault();
      
      const feedback = {
        timestamp: new Date().toISOString(),
        rating: document.getElementById('rating').value,
        comments: document.getElementById('comments').value,
        sessionId: generateSessionId()
      };
      
      logs.feedback.push(feedback);
      saveLogs();
      
      hideFeedback();
      alert('Thank you for your feedback!');
      
      // Reset form
      document.getElementById('rating').value = '';
      document.getElementById('comments').value = '';
    }

    // Sync logs with GitHub
    async function syncLogsWithGitHub() {
      try {
        const response = await fetch(LOG_FILE_URL);
        if (response.ok) {
          const csvText = await response.text();
          const remoteData = parseCSVLogs(csvText);
          
          // Merge remote logs with local logs
          mergeLogs(remoteData);
        }
      } catch (error) {
        console.log('Could not sync with remote logs, using local storage only');
      }
    }

    function parseCSVLogs(csvText) {
      const lines = csvText.split('\n');
      const remoteData = { visitors: [], feedback: [], daily: [] };
      let currentSection = '';
      
      for (let i = 0; i < lines.length; i++) {
        const line = lines[i].trim();
        
        if (line === 'VISITORS SHEET') {
          currentSection = 'visitors';
          i++; // Skip header line
          continue;
        } else if (line === 'FEEDBACK SHEET') {
          currentSection = 'feedback';
          i++; // Skip header line
          continue;
        } else if (line === 'DAILY ACTIVITY SHEET') {
          currentSection = 'daily';
          i++; // Skip header line
          continue;
        }
        
        if (line && currentSection) {
          const values = line.split(',').map(v => v.replace(/"/g, ''));
          
          if (currentSection === 'visitors' && values.length >= 4) {
            remoteData.visitors.push({
              timestamp: values[0],
              userAgent: values[1],
              referrer: values[2],
              sessionId: values[3]
            });
          } else if (currentSection === 'feedback' && values.length >= 4) {
            remoteData.feedback.push({
              timestamp: values[0],
              rating: values[1],
              comments: values[2],
              sessionId: values[3]
            });
          } else if (currentSection === 'daily' && values.length >= 5) {
            remoteData.daily.push({
              date: values[0],
              visits: parseInt(values[1]) || 0,
              resizes: parseInt(values[2]) || 0,
              compressions: parseInt(values[3]) || 0,
              enhancements: parseInt(values[4]) || 0
            });
          }
        }
      }
      
      return remoteData;
    }

    function mergeLogs(remoteData) {
      // Merge visitors (avoid duplicates by sessionId)
      remoteData.visitors.forEach(remote => {
        if (!logs.visitors.find(local => local.sessionId === remote.sessionId)) {
          logs.visitors.push(remote);
        }
      });
      
      // Merge feedback (avoid duplicates by sessionId + timestamp)
      remoteData.feedback.forEach(remote => {
        if (!logs.feedback.find(local => 
          local.sessionId === remote.sessionId && local.timestamp === remote.timestamp)) {
          logs.feedback.push(remote);
        }
      });
      
      // Merge daily data (update existing dates or add new ones)
      remoteData.daily.forEach(remote => {
        const existing = logs.daily.find(local => local.date === remote.date);
        if (existing) {
          // Update with higher values (in case of multiple sources)
          existing.visits = Math.max(existing.visits, remote.visits);
          existing.resizes = Math.max(existing.resizes, remote.resizes);
          existing.compressions = Math.max(existing.compressions, remote.compressions);
          existing.enhancements = Math.max(existing.enhancements, remote.enhancements);
        } else {
          logs.daily.push(remote);
        }
      });
      
      saveLogs();
    }

    // Logs download with GitHub sync
    function downloadLogs() {
      // Create Excel-like format (CSV)
      let csvContent = "data:text/csv;charset=utf-8,";
      
      // Visitors sheet
      csvContent += "VISITORS SHEET\n";
      csvContent += "Timestamp,User Agent,Referrer,Session ID\n";
      logs.visitors.forEach(visitor => {
        csvContent += `"${visitor.timestamp}","${visitor.userAgent}","${visitor.referrer}","${visitor.sessionId}"\n`;
      });
      
      csvContent += "\n\nFEEDBACK SHEET\n";
      csvContent += "Timestamp,Rating,Comments,Session ID\n";
      logs.feedback.forEach(feedback => {
        csvContent += `"${feedback.timestamp}","${feedback.rating}","${feedback.comments}","${feedback.sessionId}"\n`;
      });
      
      csvContent += "\n\nDAILY ACTIVITY SHEET\n";
      csvContent += "Date,Visits,Resizes,Compressions,Enhancements\n";
      logs.daily.forEach(daily => {
        csvContent += `"${daily.date}","${daily.visits}","${daily.resizes}","${daily.compressions}","${daily.enhancements}"\n`;
      });

      // Download
      const encodedUri = encodeURI(csvContent);
      const link = document.createElement('a');
      link.setAttribute('href', encodedUri);
      link.setAttribute('download', `pixmorph-logs-${new Date().toISOString().split('T')[0]}.csv`);
      document.body.appendChild(link);
      link.click();
      document.body.removeChild(link);
      
      // Show instructions for GitHub upload
      showGitHubUploadInstructions();
    }

    function showGitHubUploadInstructions() {
      const instructions = `
GitHub Upload Instructions:
1. Upload the downloaded CSV file to your GitHub repository
2. Place it in the /logs/ directory
3. Update the LOG_FILE_URL variable in the code with the new GitHub raw URL
4. The application will automatically sync logs from GitHub on next visit

Example URL format:
https://raw.githubusercontent.com/username/repository/main/logs/pixmorph-logs-YYYY-MM-DD.csv
      `;
      
      const modal = document.createElement('div');
      modal.className = 'modal';
      modal.innerHTML = `
        <div class="modal-content">
          <h3>GitHub Upload Instructions</h3>
          <pre style="white-space: pre-wrap; font-size: 0.875rem; background: var(--background); padding: 1rem; border-radius: var(--radius); margin: 1rem 0;">${instructions}</pre>
          <div class="modal-actions">
            <button class="btn btn-primary" onclick="this.closest('.modal').remove()">Got it!</button>
          </div>
        </div>
      `;
      document.body.appendChild(modal);
    }

    // Error handling
    function showError(message) {
      const errorDiv = document.createElement('div');
      errorDiv.className = 'error';
      errorDiv.innerHTML = `
        <div class="error-content">
          <i class="fas fa-exclamation-triangle"></i>
          ${message}
        </div>
      `;
      
      document.querySelector('.container').appendChild(errorDiv);
      
      setTimeout(() => {
        errorDiv.remove();
      }, 5000);
    }

    // Tab click handlers
    document.querySelectorAll('.tab-trigger').forEach(trigger => {
      trigger.addEventListener('click', () => {
        switchTab(trigger.dataset.tab);
      });
    });

    // Initialize app
    document.addEventListener('DOMContentLoaded', async function() {
      loadLogs();
      await syncLogsWithGitHub();
      initLogging();
      setupDragDrop();
    });
  </script>
</body>
</html>
