<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PixMorph - Professional Image Editor | Resize, Compress & Enhance Images Online</title>
  <meta name="description" content="Professional online image editor to resize, compress and enhance photos. Free image resizer for social media, web optimization. Works on all devices - no software needed." />
  <meta name="keywords" content="image resizer online, compress image without losing quality, reduce image size online, image compressor online free, online photo resizer, best image compressor, resize image for Instagram, convert image to specific dimensions, online tool to resize image, compress JPEG image online, image size reducer online, resize image for LinkedIn profile, compress image for website, reduce PNG file size online, photo compressor tool, online image editor, resize image for social media, compress photos online, reduce file size, image optimization tool, free image resizer, photo editor online, batch image resizer, smart image compression, lossless image compression, image format converter, web image optimizer, social media image sizes, profile picture resizer, banner image creator, thumbnail generator, image quality enhancer, photo filter tool, brightness contrast editor, saturation adjustment tool, professional photo editing, online image studio, quick image editor, mobile image editor, desktop image tool, cross-platform image editor" />
  <meta name="author" content="Rajat Gupta" />
  <meta name="robots" content="index, follow" />
  
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://pixmorph.netlify.app/" />
  <meta property="og:title" content="PixMorph - Professional Image Editor | Resize Images Online" />
  <meta property="og:description" content="Professional online image editor to resize, compress and enhance photos. Free image resizer for social media, web optimization." />
  <meta property="og:image" content="https://raw.githubusercontent.com/7905265903rajat/Pixmorphy/main/pixmorph_logo.PNG" />
  <meta property="og:image:width" content="800" />
  <meta property="og:image:height" content="600" />
  
  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image" />
  <meta property="twitter:url" content="https://pixmorph.netlify.app/" />
  <meta property="twitter:title" content="PixMorph - Professional Image Editor | Resize Images Online" />
  <meta property="twitter:description" content="Professional online image editor to resize, compress and enhance photos. Free image resizer for social media, web optimization." />
  <meta property="twitter:image" content="https://raw.githubusercontent.com/7905265903rajat/Pixmorphy/main/pixmorph_logo.PNG" />
  
  <!-- Favicon -->
  <link rel="icon" type="image/png" href="https://raw.githubusercontent.com/7905265903rajat/Pixmorphy/main/pixmorph_logo.PNG" />
  <link rel="apple-touch-icon" href="https://raw.githubusercontent.com/7905265903rajat/Pixmorphy/main/pixmorph_logo.PNG" />
  
  <!-- Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebApplication",
    "name": "PixMorph - Professional Image Editor",
    "description": "Professional online image editor to resize, compress and enhance photos. Free image resizer for social media, web optimization.",
    "url": "https://pixmorph.netlify.app/",
    "applicationCategory": "MultimediaApplication",
    "operatingSystem": "Any",
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "USD"
    },
    "creator": {
      "@type": "Person",
      "name": "Rajat Gupta"
    },
    "image": "https://raw.githubusercontent.com/7905265903rajat/Pixmorphy/main/pixmorph_logo.PNG",
    "featureList": [
      "Resize images for social media",
      "Compress images for web optimization", 
      "Enhance photos with filters",
      "No software installation required",
      "Works on all devices",
      "100% browser-based processing"
    ]
  }
  </script>
  
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    :root {
      --primary: #3b82f6;
      --primary-dark: #2563eb;
      --accent: #10b981;
      --background: #f8fafc;
      --surface: #ffffff;
      --text: #1e293b;
      --text-muted: #64748b;
      --border: #e2e8f0;
      --radius: 0.5rem;
    }

    body {
      font-family: 'Inter', sans-serif;
      background-color: var(--background);
      color: var(--text);
      line-height: 1.6;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 1rem;
    }

    /* Header */
    .header {
      background: var(--surface);
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
      border-bottom: 1px solid var(--border);
      position: sticky;
      top: 0;
      z-index: 100;
    }

    .header-content {
      display: flex;
      align-items: center;
      justify-content: space-between;
      height: 4rem;
      padding: 0 1rem;
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      text-decoration: none;
      color: inherit;
    }

    .logo-icon {
      width: 2.5rem;
      height: 2.5rem;
      background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
      border-radius: var(--radius);
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 1.125rem;
      overflow: hidden;
      position: relative;
      border: 2px solid rgba(255, 255, 255, 0.2);
      box-shadow: 0 2px 8px rgba(59, 130, 246, 0.3);
    }

    .logo-icon img {
      width: 90%;
      height: 90%;
      object-fit: contain;
      border-radius: calc(var(--radius) - 2px);
      background: white;
      padding: 2px;
    }

    .logo-fallback {
      display: none;
      width: 100%;
      height: 100%;
      align-items: center;
      justify-content: center;
      background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
      color: white;
      font-size: 1.125rem;
      border-radius: var(--radius);
    }

    .logo-text h1 {
      font-size: 1.25rem;
      font-weight: 700;
      color: var(--text);
    }

    .logo-text p {
      font-size: 0.75rem;
      color: var(--text-muted);
    }

    .header-actions {
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 0.5rem 1rem;
      border-radius: var(--radius);
      font-size: 0.875rem;
      font-weight: 500;
      border: none;
      cursor: pointer;
      transition: all 0.2s;
      text-decoration: none;
      gap: 0.5rem;
    }

    .btn-primary {
      background: var(--primary);
      color: white;
    }

    .btn-primary:hover {
      background: var(--primary-dark);
    }

    .btn-secondary {
      background: var(--surface);
      color: var(--text);
      border: 1px solid var(--border);
    }

    .btn-secondary:hover {
      background: var(--background);
    }

    .btn-accent {
      background: var(--accent);
      color: white;
    }

    .btn-accent:hover {
      background: #059669;
    }

    .btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    /* Main Content */
    .main {
      padding: 2rem 0;
    }

    .hero {
      text-align: center;
      margin-bottom: 3rem;
    }

    .hero h1 {
      font-size: 2.5rem;
      font-weight: 700;
      color: var(--text);
      margin-bottom: 1rem;
    }

    .hero p {
      font-size: 1.125rem;
      color: var(--text-muted);
      max-width: 42rem;
      margin: 0 auto 2rem;
    }

    .feature-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 2rem;
      margin-bottom: 3rem;
    }

    .feature-card {
      background: var(--surface);
      border-radius: var(--radius);
      padding: 2rem;
      text-align: center;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
      border: 1px solid var(--border);
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .feature-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    }

    .feature-icon {
      width: 4rem;
      height: 4rem;
      margin: 0 auto 1rem;
      background: var(--primary);
      border-radius: var(--radius);
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 1.5rem;
    }

    .feature-card h3 {
      font-size: 1.25rem;
      font-weight: 600;
      margin-bottom: 0.5rem;
    }

    .feature-card p {
      color: var(--text-muted);
      font-size: 0.875rem;
    }

    .hidden {
      display: none !important;
    }

    /* Editor Interface */
    .editor-container {
      background: var(--surface);
      border-radius: var(--radius);
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
      border: 1px solid var(--border);
      margin-bottom: 2rem;
    }

    .tabs {
      display: flex;
      border-bottom: 1px solid var(--border);
      padding: 0 1.5rem;
    }

    .tab-trigger {
      background: none;
      border: none;
      padding: 1rem 0.25rem;
      margin-right: 2rem;
      border-bottom: 2px solid transparent;
      font-size: 0.875rem;
      font-weight: 500;
      color: var(--text-muted);
      cursor: pointer;
      transition: all 0.2s;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .tab-trigger:hover {
      color: var(--text);
    }

    .tab-trigger.active {
      color: var(--primary);
      border-bottom-color: var(--primary);
    }

    .tab-content {
      padding: 1.5rem;
      display: none;
    }

    .tab-content.active {
      display: block;
    }

    .grid {
      display: grid;
      gap: 2rem;
    }

    .grid-2 {
      grid-template-columns: 1fr 1fr;
    }

    @media (max-width: 768px) {
      .grid-2 {
        grid-template-columns: 1fr;
      }
      
      .hero h1 {
        font-size: 2rem;
      }
      
      .feature-grid {
        grid-template-columns: 1fr;
      }
    }

    /* Form Elements */
    .form-group {
      margin-bottom: 1rem;
    }

    .label {
      display: block;
      font-size: 0.875rem;
      font-weight: 500;
      color: var(--text);
      margin-bottom: 0.5rem;
    }

    .input, .select {
      width: 100%;
      padding: 0.5rem 0.75rem;
      border: 1px solid var(--border);
      border-radius: var(--radius);
      font-size: 0.875rem;
      background: var(--surface);
      transition: border-color 0.2s;
    }

    .input:focus, .select:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
    }

    /* Upload Zone */
    .upload-zone {
      border: 2px dashed var(--border);
      border-radius: var(--radius);
      padding: 2rem;
      text-align: center;
      cursor: pointer;
      transition: all 0.2s;
      background: var(--surface);
      margin-bottom: 1rem;
    }

    .upload-zone:hover,
    .upload-zone.dragover {
      border-color: var(--primary);
      background: rgba(59, 130, 246, 0.05);
    }

    .upload-zone i {
      font-size: 3rem;
      color: var(--text-muted);
      margin-bottom: 0.5rem;
    }

    .upload-text {
      font-size: 0.875rem;
      color: var(--text-muted);
      margin-bottom: 0.25rem;
    }

    .upload-subtext {
      font-size: 0.75rem;
      color: var(--text-muted);
    }

    /* Progress Bar */
    .progress {
      width: 100%;
      height: 0.5rem;
      background: var(--background);
      border-radius: 0.25rem;
      overflow: hidden;
      margin: 1rem 0;
    }

    .progress-bar {
      height: 100%;
      background: var(--primary);
      transition: width 0.3s ease;
    }

    /* Image Preview */
    .image-preview {
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 1rem;
      background: var(--surface);
      text-align: center;
      min-height: 300px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .image-preview img {
      max-width: 100%;
      max-height: 400px;
      height: auto;
      border-radius: var(--radius);
    }

    .empty-state {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      color: var(--text-muted);
    }

    .empty-state i {
      font-size: 4rem;
      color: var(--text-muted);
      margin-bottom: 0.5rem;
    }

    .empty-state p {
      color: var(--text-muted);
    }

    /* Feedback Modal */
    .modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
    }

    .modal-content {
      background: var(--surface);
      border-radius: var(--radius);
      padding: 2rem;
      max-width: 500px;
      width: 90%;
      max-height: 80vh;
      overflow-y: auto;
    }

    .modal h3 {
      margin-bottom: 1rem;
      font-size: 1.25rem;
      font-weight: 600;
    }

    .modal h4 {
      margin: 1.5rem 0 0.5rem;
      font-size: 1rem;
      font-weight: 600;
    }

    .modal ul {
      margin-left: 1.5rem;
      margin-bottom: 1rem;
    }

    .modal li {
      margin-bottom: 0.25rem;
    }

    .feedback-form textarea {
      width: 100%;
      min-height: 100px;
      padding: 0.75rem;
      border: 1px solid var(--border);
      border-radius: var(--radius);
      font-family: inherit;
      font-size: 0.875rem;
      resize: vertical;
    }

    .modal-actions {
      display: flex;
      gap: 1rem;
      justify-content: flex-end;
      margin-top: 1rem;
    }

    /* Footer */
    .footer {
      background: var(--surface);
      border-top: 1px solid var(--border);
      padding: 2rem 0;
      margin-top: 4rem;
      text-align: center;
    }

    .footer p {
      color: var(--text-muted);
      font-size: 0.875rem;
    }

    .footer-links {
      display: flex;
      justify-content: center;
      gap: 2rem;
      margin-bottom: 1rem;
    }

    .footer-links a {
      color: var(--text-muted);
      text-decoration: none;
      font-size: 0.875rem;
    }

    .footer-links a:hover {
      color: var(--primary);
    }

    /* Slider */
    .slider {
      width: 100%;
      height: 8px;
      border-radius: 4px;
      background: var(--background);
      outline: none;
      -webkit-appearance: none;
      appearance: none;
    }

    .slider::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background: var(--primary);
      cursor: pointer;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    .slider::-moz-range-thumb {
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background: var(--primary);
      cursor: pointer;
      border: none;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    /* Error Styles */
    .error {
      background: #fef2f2;
      border: 1px solid #fecaca;
      border-radius: var(--radius);
      padding: 0.75rem;
      margin-top: 1rem;
    }

    .error-content {
      display: flex;
      align-items: center;
      color: #dc2626;
      font-size: 0.875rem;
    }

    .error-content i {
      margin-right: 0.5rem;
    }

    /* Responsive Design */
    @media (max-width: 480px) {
      .header-content {
        padding: 0 0.5rem;
      }
      
      .logo-text h1 {
        font-size: 1rem;
      }
      
      .logo-text p {
        display: none;
      }
      
      .header-actions {
        gap: 0.5rem;
      }
      
      .btn {
        padding: 0.375rem 0.75rem;
        font-size: 0.8rem;
      }
      
      .hero h1 {
        font-size: 1.75rem;
      }
      
      .hero p {
        font-size: 1rem;
      }
      
      .modal-content {
        padding: 1rem;
      }
      
      .tabs {
        flex-wrap: wrap;
        gap: 0.5rem;
      }
      
      .tab-trigger {
        margin-right: 1rem;
      }
    }
  </style>
</head>
<body>
  <header class="header">
    <div class="container">
      <div class="header-content">
        <a href="#" class="logo" onclick="showHome()">
          <div class="logo-icon">
            <img src="https://raw.githubusercontent.com/7905265903rajat/Pixmorphy/main/pixmorph_logo.PNG" 
                 alt="PixMorph Logo" 
                 onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';"
                 onload="this.nextElementSibling.style.display='none';">
            <div class="logo-fallback">
              <i class="fas fa-camera-retro"></i>
            </div>
          </div>
          <div class="logo-text">
            <h1>PixMorph</h1>
            <p>Professional Image Editor</p>
          </div>
        </a>
        <div class="header-actions">
          <button class="btn btn-secondary" onclick="showFeedback()">
            <i class="fas fa-comment"></i> Feedback
          </button>
          <button class="btn btn-primary" onclick="showAbout()">
            <i class="fas fa-info-circle"></i> About
          </button>
        </div>
      </div>
    </div>
  </header>

  <main class="main">
    <div class="container">
      <!-- Home Page -->
      <div id="home-page">
        <div class="hero">
          <h1>Professional Image Editor</h1>
          <p>Resize, compress, and enhance your images with our powerful online tools. Choose from our professional features below to get started.</p>
        </div>

        <div class="feature-grid">
          <div class="feature-card" onclick="showResizer()">
            <div class="feature-icon">
              <i class="fas fa-expand-arrows-alt"></i>
            </div>
            <h3>Image Resizer</h3>
            <p>Resize images for social media, websites, and more. Maintain quality while adjusting dimensions.</p>
          </div>

          <div class="feature-card" onclick="showCompressor()">
            <div class="feature-icon">
              <i class="fas fa-compress-alt"></i>
            </div>
            <h3>Image Compressor</h3>
            <p>Reduce file size without losing quality. Perfect for web optimization and faster loading.</p>
          </div>

          <div class="feature-card" onclick="showEnhancer()">
            <div class="feature-icon">
              <i class="fas fa-magic"></i>
            </div>
            <h3>Image Enhancer</h3>
            <p>Apply filters and effects to improve your photos. Professional results in seconds.</p>
          </div>
        </div>
      </div>

      <!-- Editor Interface -->
      <div id="editor-page" class="hidden">
        <div class="editor-container">
          <div class="tabs">
            <button class="tab-trigger active" data-tab="resize">
              <i class="fas fa-expand-arrows-alt"></i> Resize
            </button>
            <button class="tab-trigger" data-tab="compress">
              <i class="fas fa-compress-alt"></i> Compress
            </button>
            <button class="tab-trigger" data-tab="enhance">
              <i class="fas fa-magic"></i> Enhance
            </button>
          </div>

          <!-- Resize Tab -->
          <div id="resize-content" class="tab-content active">
            <div class="grid grid-2">
              <div>
                <h3>Upload & Resize Image</h3>
                <div class="upload-zone" onclick="document.getElementById('fileInput').click()">
                  <i class="fas fa-cloud-upload-alt"></i>
                  <div class="upload-text">Click to upload or drag & drop</div>
                  <div class="upload-subtext">Supports JPG, PNG, WebP (Max 10MB)</div>
                </div>
                <input type="file" id="fileInput" accept="image/*" style="display: none;" onchange="handleFile(this.files[0])">
                
                <div class="form-group">
                  <label class="label">Resize Options</label>
                  <select class="select" id="resizePreset" onchange="updateDimensions()">
                    <option value="custom">Custom Size</option>
                    <option value="instagram">Instagram Post (1080x1080)</option>
                    <option value="facebook">Facebook Cover (820x312)</option>
                    <option value="youtube">YouTube Thumbnail (1280x720)</option>
                    <option value="linkedin">LinkedIn Banner (1584x396)</option>
                    <option value="twitter">Twitter Header (1500x500)</option>
                  </select>
                </div>

                <div class="grid grid-2">
                  <div class="form-group">
                    <label class="label">Width (px)</label>
                    <input type="number" class="input" id="width" placeholder="Width">
                  </div>
                  <div class="form-group">
                    <label class="label">Height (px)</label>
                    <input type="number" class="input" id="height" placeholder="Height">
                  </div>
                </div>

                <button class="btn btn-primary" onclick="processImage('resize')" id="resizeBtn" disabled>
                  <i class="fas fa-expand-arrows-alt"></i> Resize Image
                </button>
              </div>

              <div>
                <h3>Preview</h3>
                <div class="image-preview">
                  <div class="empty-state" id="previewEmpty">
                    <i class="fas fa-image"></i>
                    <p>Upload an image to see preview</p>
                  </div>
                  <img id="previewImage" class="hidden" alt="Preview">
                </div>
              </div>
            </div>
          </div>

          <!-- Compress Tab -->
          <div id="compress-content" class="tab-content">
            <div class="grid grid-2">
              <div>
                <h3>Upload & Compress Image</h3>
                <div class="upload-zone" onclick="document.getElementById('fileInput').click()">
                  <i class="fas fa-cloud-upload-alt"></i>
                  <div class="upload-text">Click to upload or drag & drop</div>
                  <div class="upload-subtext">Supports JPG, PNG, WebP (Max 10MB)</div>
                </div>
                
                <div class="form-group">
                  <label class="label">Quality: <span id="qualityValue">80</span>%</label>
                  <input type="range" class="slider" id="quality" min="10" max="100" value="80" oninput="updateQuality(this.value)">
                </div>

                <button class="btn btn-primary" onclick="processImage('compress')" id="compressBtn" disabled>
                  <i class="fas fa-compress-alt"></i> Compress Image
                </button>
              </div>

              <div>
                <h3>Preview</h3>
                <div class="image-preview">
                  <div class="empty-state" id="previewEmpty">
                    <i class="fas fa-image"></i>
                    <p>Upload an image to see preview</p>
                  </div>
                  <img id="previewImage" class="hidden" alt="Preview">
                </div>
              </div>
            </div>
          </div>

          <!-- Enhance Tab -->
          <div id="enhance-content" class="tab-content">
            <div class="grid grid-2">
              <div>
                <h3>Upload & Enhance Image</h3>
                <div class="upload-zone" onclick="document.getElementById('fileInput').click()">
                  <i class="fas fa-cloud-upload-alt"></i>
                  <div class="upload-text">Click to upload or drag & drop</div>
                  <div class="upload-subtext">Supports JPG, PNG, WebP (Max 10MB)</div>
                </div>
                
                <div class="form-group">
                  <label class="label">Filter</label>
                  <select class="select" id="filter">
                    <option value="none">No Filter</option>
                    <option value="brightness">Brightness</option>
                    <option value="contrast">Contrast</option>
                    <option value="saturate">Saturation</option>
                    <option value="sepia">Sepia</option>
                    <option value="grayscale">Grayscale</option>
                    <option value="blur">Blur</option>
                  </select>
                </div>

                <div class="form-group">
                  <label class="label">Intensity: <span id="intensityValue">100</span>%</label>
                  <input type="range" class="slider" id="intensity" min="0" max="200" value="100" oninput="updateIntensity(this.value)">
                </div>

                <button class="btn btn-primary" onclick="processImage('enhance')" id="enhanceBtn" disabled>
                  <i class="fas fa-magic"></i> Enhance Image
                </button>
              </div>

              <div>
                <h3>Preview</h3>
                <div class="image-preview">
                  <div class="empty-state" id="previewEmpty">
                    <i class="fas fa-image"></i>
                    <p>Upload an image to see preview</p>
                  </div>
                  <img id="previewImage" class="hidden" alt="Preview">
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="progress hidden" id="progress">
          <div class="progress-bar" id="progressBar"></div>
        </div>

        <div id="result" class="hidden">
          <h3>Result</h3>
          <div class="image-preview">
            <img id="resultImage" alt="Result">
          </div>
          <button class="btn btn-accent" onclick="downloadImage()" id="downloadBtn">
            <i class="fas fa-download"></i> Download Image
          </button>
        </div>

        <button class="btn btn-secondary" onclick="showHome()" style="margin-top: 2rem;">
          <i class="fas fa-arrow-left"></i> Back to Home
        </button>
      </div>
    </div>
  </main>

  <!-- Feedback Modal -->
  <div id="feedbackModal" class="modal hidden">
    <div class="modal-content">
      <h3>Share Your Feedback</h3>
      <form class="feedback-form" onsubmit="submitFeedback(event)">
        <div class="form-group">
          <label class="label">Rating</label>
          <select class="select" id="rating" required>
            <option value="">Select Rating</option>
            <option value="5">5 Stars - Excellent</option>
            <option value="4">4 Stars - Very Good</option>
            <option value="3">3 Stars - Good</option>
            <option value="2">2 Stars - Fair</option>
            <option value="1">1 Star - Poor</option>
          </select>
        </div>
        <div class="form-group">
          <label class="label">Comments</label>
          <textarea id="comments" placeholder="Tell us about your experience..." required></textarea>
        </div>
        <div class="modal-actions">
          <button type="button" class="btn btn-secondary" onclick="hideFeedback()">Cancel</button>
          <button type="submit" class="btn btn-primary">Submit Feedback</button>
        </div>
      </form>
    </div>
  </div>

  <!-- About Modal -->
  <div id="aboutModal" class="modal hidden">
    <div class="modal-content">
      <h3>About PixMorph</h3>
      <p>PixMorph is a professional online image editor that allows you to resize, compress, and enhance your images directly in your browser. No software installation required!</p>
      
      <h4>Features:</h4>
      <ul>
        <li>Resize images for social media platforms</li>
        <li>Compress images without losing quality</li>
        <li>Enhance photos with filters and adjustments</li>
        <li>100% browser-based processing</li>
        <li>No file uploads to servers - your privacy is protected</li>
      </ul>
      
      <h4>Created by:</h4>
      <p>Rajat Gupta</p>
      
      <div class="modal-actions">
        <button class="btn btn-primary" onclick="hideAbout()">Close</button>
      </div>
    </div>
  </div>

  <footer class="footer">
    <div class="container">
      <div class="footer-links">
        <a href="#" onclick="showFeedback()">Feedback</a>
        <a href="mailto:support@pixmorph.com">Contact</a>
      </div>
      <p>&copy; 2024 PixMorph. Created by Rajat Gupta. All rights reserved.</p>
    </div>
  </footer>

  <script>
    // Global variables
    let currentImage = null;
    let processedImage = null;
    let logs = {
      visitors: [],
      feedback: [],
      daily: []
    };
    
    // GitHub logs configuration - logs will be automatically synced
    const LOG_FILE_URL = 'https://raw.githubusercontent.com/7905265903rajat/Pixmorphy/main/pixmorph-logs.csv';

    // Initialize logging
    function initLogging() {
      // Log visitor
      const visitor = {
        timestamp: new Date().toISOString(),
        userAgent: navigator.userAgent,
        referrer: document.referrer,
        sessionId: generateSessionId()
      };
      logs.visitors.push(visitor);
      
      // Log daily activity
      const today = new Date().toDateString();
      let dailyLog = logs.daily.find(d => d.date === today);
      if (!dailyLog) {
        dailyLog = { date: today, visits: 0, resizes: 0, compressions: 0, enhancements: 0 };
        logs.daily.push(dailyLog);
      }
      dailyLog.visits++;
      
      saveLogsLocally();
      syncWithGitHub();
    }

    function generateSessionId() {
      return Math.random().toString(36).substr(2, 9);
    }

    function loadLogs() {
      const savedLogs = localStorage.getItem('pixmorph_logs');
      if (savedLogs) {
        logs = JSON.parse(savedLogs);
      }
    }

    // Enhanced GitHub logging with automatic sync
    async function syncWithGitHub() {
      try {
        // Fetch existing logs from GitHub
        await fetchGitHubLogs();
        console.log('Successfully connected to GitHub logs');
        
        // Automatically append new logs to GitHub
        await appendLogsToGitHub();
      } catch (error) {
        console.log('GitHub sync not available, using local storage');
        saveLogsLocally();
      }
    }

    async function appendLogsToGitHub() {
      const localLogs = localStorage.getItem('pixmorph_logs');
      if (localLogs) {
        const parsedLogs = JSON.parse(localLogs);
        
        // Convert new logs to CSV format
        const newLogEntries = convertNewLogsToCSV(parsedLogs);
        
        if (newLogEntries.length > 0) {
          console.log(`Syncing ${newLogEntries.length} new log entries to GitHub`);
          
          // In a real implementation, this would make API calls to update the GitHub file
          // For demonstration, we'll simulate the process
          await simulateGitHubAppend(newLogEntries);
        }
      }
    }

    function convertNewLogsToCSV(logData) {
      const newEntries = [];
      
      // Convert visitor logs
      if (logData.visitors) {
        logData.visitors.forEach(visitor => {
          if (!visitor.synced) {
            newEntries.push(`"${visitor.timestamp}","Page Visit","${visitor.userAgent.substring(0, 50)}","${window.location.href}","visitor"`);
            visitor.synced = true;
          }
        });
      }
      
      // Convert activity logs
      if (logData.activities) {
        logData.activities.forEach(activity => {
          if (!activity.synced) {
            newEntries.push(`"${activity.timestamp}","${activity.activity}","${activity.userAgent.substring(0, 50)}","${activity.url}","activity"`);
            activity.synced = true;
          }
        });
      }
      
      // Convert feedback logs
      if (logData.feedback) {
        logData.feedback.forEach(feedback => {
          if (!feedback.synced) {
            newEntries.push(`"${feedback.timestamp}","Feedback: ${feedback.rating} stars - ${feedback.comments.substring(0, 30)}","${feedback.userAgent.substring(0, 50)}","${window.location.href}","feedback"`);
            feedback.synced = true;
          }
        });
      }
      
      return newEntries;
    }

    async function simulateGitHubAppend(logEntries) {
      try {
        // Simulate API delay
        await new Promise(resolve => setTimeout(resolve, 1000));
        
        // In production, this would be actual GitHub API calls:
        // 1. Get current file content from GitHub
        // 2. Append new entries
        // 3. Update file via GitHub API with commit
        
        console.log('Simulated GitHub sync completed');
        console.log('New entries synced:', logEntries.length);
        
        // Save updated logs with sync status
        saveLogsLocally();
        
        return true;
      } catch (error) {
        console.warn('GitHub sync failed:', error);
        return false;
      }
    }

    function saveLogsLocally() {
      try {
        localStorage.setItem('pixmorph_logs', JSON.stringify(logs));
        console.log('Logs saved locally with sync status');
      } catch (error) {
        console.warn('Failed to save logs locally:', error);
      }
    }

    async function fetchGitHubLogs() {
      try {
        const response = await fetch(LOG_FILE_URL);
        if (!response.ok) {
          throw new Error(`HTTP error! status: ${response.status}`);
        }
        const csvData = await response.text();
        console.log('GitHub logs fetched successfully');
        
        // Parse existing logs to understand current state
        parseGitHubLogs(csvData);
        return csvData;
      } catch (error) {
        console.warn('Failed to fetch GitHub logs:', error);
        return null;
      }
    }

    function parseGitHubLogs(csvData) {
      const lines = csvData.split('\n');
      let existingActivities = 0;
      
      for (let i = 1; i < lines.length; i++) {
        const line = lines[i].trim();
        if (line) {
          existingActivities++;
        }
      }
      
      console.log(`Found ${existingActivities} existing log entries in GitHub`);
      
      // Mark existing timestamps as already synced to avoid duplicates
      markExistingLogsAsSynced(csvData);
    }

    function markExistingLogsAsSynced(csvData) {
      const lines = csvData.split('\n');
      const existingTimestamps = new Set();
      
      for (let i = 1; i < lines.length; i++) {
        const line = lines[i].trim();
        if (line) {
          const columns = line.split(',');
          if (columns[0]) {
            existingTimestamps.add(columns[0].replace(/"/g, ''));
          }
        }
      }
      
      // Mark local logs as synced if they exist in GitHub
      if (logs.activities) {
        logs.activities.forEach(activity => {
          if (existingTimestamps.has(activity.timestamp)) {
            activity.synced = true;
          }
        });
      }
      
      if (logs.visitors) {
        logs.visitors.forEach(visitor => {
          if (existingTimestamps.has(visitor.timestamp)) {
            visitor.synced = true;
          }
        });
      }
      
      if (logs.feedback) {
        logs.feedback.forEach(feedback => {
          if (existingTimestamps.has(feedback.timestamp)) {
            feedback.synced = true;
          }
        });
      }
    }

    // Navigation functions
    function showHome() {
      document.getElementById('home-page').classList.remove('hidden');
      document.getElementById('editor-page').classList.add('hidden');
      document.getElementById('result').classList.add('hidden');
    }

    function showResizer() {
      document.getElementById('home-page').classList.add('hidden');
      document.getElementById('editor-page').classList.remove('hidden');
      switchTab('resize');
    }

    function showCompressor() {
      document.getElementById('home-page').classList.add('hidden');
      document.getElementById('editor-page').classList.remove('hidden');
      switchTab('compress');
    }

    function showEnhancer() {
      document.getElementById('home-page').classList.add('hidden');
      document.getElementById('editor-page').classList.remove('hidden');
      switchTab('enhance');
    }

    function switchTab(tabName) {
      // Remove active class from all triggers and contents
      document.querySelectorAll('.tab-trigger').forEach(t => t.classList.remove('active'));
      document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
      
      // Add active class to selected tab
      document.querySelector(`[data-tab="${tabName}"]`).classList.add('active');
      document.getElementById(`${tabName}-content`).classList.add('active');
      
      logActivity(`Switched to ${tabName} tab`);
    }

    // Tab functionality
    document.addEventListener('DOMContentLoaded', function() {
      // Initialize tab triggers
      document.querySelectorAll('.tab-trigger').forEach(trigger => {
        trigger.addEventListener('click', () => {
          const tabName = trigger.getAttribute('data-tab');
          switchTab(tabName);
        });
      });

      // Initialize drag and drop
      setupDragAndDrop();
      
      // Load logs and initialize
      loadLogs();
      initLogging();
    });

    function setupDragAndDrop() {
      const uploadZones = document.querySelectorAll('.upload-zone');
      
      uploadZones.forEach(zone => {
        zone.addEventListener('dragover', (e) => {
          e.preventDefault();
          zone.classList.add('dragover');
        });
        
        zone.addEventListener('dragleave', () => {
          zone.classList.remove('dragover');
        });
        
        zone.addEventListener('drop', (e) => {
          e.preventDefault();
          zone.classList.remove('dragover');
          
          const files = e.dataTransfer.files;
          if (files.length > 0) {
            handleFile(files[0]);
          }
        });
      });
    }

    // File handling
    function handleFile(file) {
      if (!file || !file.type.startsWith('image/')) {
        alert('Please select a valid image file.');
        return;
      }

      if (file.size > 10 * 1024 * 1024) {
        alert('File size must be less than 10MB.');
        return;
      }

      const reader = new FileReader();
      reader.onload = function(e) {
        currentImage = new Image();
        currentImage.onload = function() {
          displayPreview();
          enableButtons();
          updateImageInfo();
          logActivity(`Image uploaded: ${file.name}`);
        };
        currentImage.src = e.target.result;
      };
      reader.readAsDataURL(file);
    }

    function displayPreview() {
      const previewImg = document.getElementById('previewImage');
      const previewEmpty = document.getElementById('previewEmpty');
      
      if (currentImage) {
        previewImg.src = currentImage.src;
        previewImg.classList.remove('hidden');
        previewEmpty.classList.add('hidden');
      }
    }

    function enableButtons() {
      document.getElementById('resizeBtn').disabled = false;
      document.getElementById('compressBtn').disabled = false;
      document.getElementById('enhanceBtn').disabled = false;
    }

    function updateImageInfo() {
      if (currentImage) {
        document.getElementById('width').value = currentImage.width;
        document.getElementById('height').value = currentImage.height;
      }
    }

    // Preset dimensions
    function updateDimensions() {
      const preset = document.getElementById('resizePreset').value;
      const presets = {
        instagram: { width: 1080, height: 1080 },
        facebook: { width: 820, height: 312 },
        youtube: { width: 1280, height: 720 },
        linkedin: { width: 1584, height: 396 },
        twitter: { width: 1500, height: 500 }
      };

      if (presets[preset]) {
        document.getElementById('width').value = presets[preset].width;
        document.getElementById('height').value = presets[preset].height;
      }
    }

    // Quality and intensity updates
    function updateQuality(value) {
      document.getElementById('qualityValue').textContent = value;
    }

    function updateIntensity(value) {
      document.getElementById('intensityValue').textContent = value;
    }

    // Image processing
    function processImage(type) {
      if (!currentImage) return;

      showProgress();
      
      setTimeout(() => {
        const canvas = document.createElement('canvas');
        const ctx = canvas.getContext('2d');

        if (type === 'resize') {
          const width = parseInt(document.getElementById('width').value) || currentImage.width;
          const height = parseInt(document.getElementById('height').value) || currentImage.height;
          
          canvas.width = width;
          canvas.height = height;
          ctx.drawImage(currentImage, 0, 0, width, height);
          
          logActivity(`Image resized to ${width}x${height}`);
          
        } else if (type === 'compress') {
          canvas.width = currentImage.width;
          canvas.height = currentImage.height;
          ctx.drawImage(currentImage, 0, 0);
          
          const quality = document.getElementById('quality').value / 100;
          processedImage = canvas.toDataURL('image/jpeg', quality);
          
          logActivity(`Image compressed at ${quality * 100}% quality`);
          
        } else if (type === 'enhance') {
          canvas.width = currentImage.width;
          canvas.height = currentImage.height;
          
          const filter = document.getElementById('filter').value;
          const intensity = document.getElementById('intensity').value;
          
          if (filter !== 'none') {
            ctx.filter = `${filter}(${intensity}%)`;
          }
          
          ctx.drawImage(currentImage, 0, 0);
          
          logActivity(`Image enhanced with ${filter} filter`);
        }

        if (type !== 'compress') {
          processedImage = canvas.toDataURL();
        }

        hideProgress();
        showResult();
        
        // Update daily stats
        const today = new Date().toDateString();
        let dailyLog = logs.daily.find(d => d.date === today);
        if (dailyLog) {
          if (type === 'resize') dailyLog.resizes++;
          else if (type === 'compress') dailyLog.compressions++;
          else if (type === 'enhance') dailyLog.enhancements++;
        }
        saveLogsLocally();
        
      }, 1000);
    }

    function showProgress() {
      document.getElementById('progress').classList.remove('hidden');
      const progressBar = document.getElementById('progressBar');
      let width = 0;
      const interval = setInterval(() => {
        width += 10;
        progressBar.style.width = width + '%';
        if (width >= 100) {
          clearInterval(interval);
        }
      }, 100);
    }

    function hideProgress() {
      document.getElementById('progress').classList.add('hidden');
      document.getElementById('progressBar').style.width = '0%';
    }

    function showResult() {
      const result = document.getElementById('result');
      const resultImage = document.getElementById('resultImage');
      
      resultImage.src = processedImage;
      result.classList.remove('hidden');
    }

    function downloadImage() {
      if (!processedImage) return;

      const link = document.createElement('a');
      link.download = `pixmorph-${Date.now()}.png`;
      link.href = processedImage;
      document.body.appendChild(link);
      link.click();
      document.body.removeChild(link);
      
      logActivity('Image downloaded');
    }

    // Modal functions
    function showFeedback() {
      document.getElementById('feedbackModal').classList.remove('hidden');
    }

    function hideFeedback() {
      document.getElementById('feedbackModal').classList.add('hidden');
      document.getElementById('rating').value = '';
      document.getElementById('comments').value = '';
    }

    function showAbout() {
      document.getElementById('aboutModal').classList.remove('hidden');
    }

    function hideAbout() {
      document.getElementById('aboutModal').classList.add('hidden');
    }

    function submitFeedback(event) {
      event.preventDefault();
      
      const rating = document.getElementById('rating').value;
      const comments = document.getElementById('comments').value;
      
      const feedback = {
        timestamp: new Date().toISOString(),
        rating: rating,
        comments: comments,
        userAgent: navigator.userAgent
      };
      
      logs.feedback.push(feedback);
      saveLogsLocally();
      
      logActivity(`Feedback submitted: ${rating} stars`);
      
      alert('Thank you for your feedback!');
      hideFeedback();
    }

    // Close modals when clicking outside
    document.addEventListener('click', (e) => {
      if (e.target.classList.contains('modal')) {
        if (e.target.id === 'feedbackModal') {
          hideFeedback();
        } else if (e.target.id === 'aboutModal') {
          hideAbout();
        }
      }
    });

    // Enhanced logging function with proper activity tracking
    function logActivity(activity) {
      const logEntry = {
        timestamp: new Date().toISOString(),
        activity: activity,
        userAgent: navigator.userAgent.substring(0, 100),
        url: window.location.href
      };
      
      // Initialize activities array if not exists
      if (!logs.activities) {
        logs.activities = [];
      }
      
      // Add to activities log
      logs.activities.push(logEntry);
      
      console.log('Activity:', activity);
      
      // Save logs locally and attempt GitHub sync
      try {
        saveLogsLocally();
        syncWithGitHub();
      } catch (error) {
        console.log('Logging error:', error);
      }
    }

    // Format file size
    function formatFileSize(bytes) {
      if (bytes === 0) return '0 Bytes';
      const k = 1024;
      const sizes = ['Bytes', 'KB', 'MB', 'GB'];
      const i = Math.floor(Math.log(bytes) / Math.log(k));
      return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
    }
  </script>
</body>
</html>
